<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="jp.levtech.rookie.portfolio.repository.master.SummaryMasterMapper">

	<select id="list" resultType="jp.levtech.rookie.portfolio.dto.MasterDto">
	SELECT
		sm.id,
		sm.summary_name AS name,
		sm.category_id AS categoryId,
		cm.category_name AS categoryName
	FROM mufg_bank_summary_master sm
	LEFT JOIN category_master cm
		ON cm.id = sm.category_id
	ORDER BY sm.category_id
	</select>

	<update id="update">
		UPDATE mufg_bank_summary_master
		SET category_id = ${categoryId}
		WHERE id = #{id}
	</update>

	<select id="findById">
		SELECT
			id,
			category_id AS categoryId
		FROM mufg_bank_summary_master
		WHERE id = #{id}
	</select>

</mapper>